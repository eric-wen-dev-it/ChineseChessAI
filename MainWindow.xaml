<Window x:Class="ChineseChessAI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ChineseChess AlphaZero Trainer" Height="720" Width="1000"
        Background="#2D2D2D">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="600"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Border Background="#F5DEB3" BorderBrush="#5D4037" BorderThickness="4" CornerRadius="2" Padding="10">
                <Grid Width="500" Height="560">
                    <Canvas x:Name="ChessLinesCanvas" IsHitTestVisible="False"/>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center" IsHitTestVisible="False">
                        <TextBlock Text="楚 河" FontSize="32" FontWeight="Bold" Foreground="#5D4037" Margin="0,0,100,0" Opacity="0.6"/>
                        <TextBlock Text="汉 界" FontSize="32" FontWeight="Bold" Foreground="#5D4037" Opacity="0.6"/>
                    </StackPanel>

                    <UniformGrid x:Name="ChessBoardGrid" Rows="10" Columns="9" Background="Transparent"/>
                </Grid>
            </Border>
        </Grid>

        <Grid Grid.Column="1" Margin="15,0,5,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="120"/>
            </Grid.RowDefinitions>

            <Button x:Name="StartBtn" Content="开始进化训练" Height="45" FontSize="16" FontWeight="Bold"
                    Click="OnStartTrainingClick" Background="#4CAF50" Foreground="White" BorderThickness="0"/>

            <Border Grid.Row="1" Background="#3D3D3D" Margin="0,15,0,10" Padding="10" CornerRadius="5">
                <StackPanel>
                    <TextBlock x:Name="StatusLabel" Text="状态: 等待启动..." Foreground="White" FontSize="14" Margin="0,0,0,5"/>
                    <TextBlock x:Name="LossLabel" Text="平均 Loss: 0.0000" Foreground="Yellow" FontSize="14"/>
                </StackPanel>
            </Border>

            <TextBox x:Name="LogBox" Grid.Row="2" VerticalScrollBarVisibility="Auto" IsReadOnly="True" 
                     Background="Black" Foreground="Lime" FontFamily="Consolas" FontSize="12" Padding="8"
                     TextWrapping="Wrap" BorderBrush="#555"/>

            <GroupBox Grid.Row="3" Header="当前棋谱 (UCCI序列)" Foreground="White" Margin="0,10,0,0" BorderBrush="#555">
                <TextBox x:Name="MoveListLog" Background="#1E1E1E" Foreground="White" IsReadOnly="True"
                         TextWrapping="Wrap" BorderThickness="0" Padding="5" VerticalScrollBarVisibility="Auto"/>
            </GroupBox>
        </Grid>
    </Grid>
</Window>